<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalhes do Frete</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/DetaFrete.css}">
</head>
<body>
<div class="frete-bg">
    <div class="frete-card">
        <div class="frete-title">Detalhes do Frete</div>
        <div class="frete-section">
            <h3>Detalhes da Carga</h3>
            <p><label>Tipo de Carga:</label> <span th:text="${frete.tipoCarga}"></span></p>
            <p><label>Valor do Frete:</label> <span th:text="${frete.valorFrete}"></span></p>
            <p><label>Peso:</label> <span th:text="${frete.peso} + ' kg'"></span></p>
            <p><label>Dimensões (CxLxA):</label>
                <span th:text="${frete.comprimento}"></span> x
                <span th:text="${frete.largura}"></span> x
                <span th:text="${frete.altura}"></span>
            </p>
            <p><label>Valor da Nota Fiscal:</label> <span th:text="${frete.valorNotaFiscal}"></span></p>
            <p><label>Status:</label> <span th:text="${frete.freteStatus.nome}"></span></p>
            <p><label>Data de Criação:</label> <span th:text="${frete.dataCriacao}"></span></p>
        </div>
        <div class="frete-section">
            <h3>Endereço de Origem</h3>
            <p th:text="${frete.enderecoOrigem.logradouro} + ', ' + ${frete.enderecoOrigem.numero}"></p>
            <p th:text="${frete.enderecoOrigem.cidade} + ' - ' + ${frete.enderecoOrigem.estado}"></p>
        </div>
        <div class="frete-section">
            <h3>Endereço de Destino</h3>
            <p th:text="${frete.enderecoDestino.logradouro} + ', ' + ${frete.enderecoDestino.numero}"></p>
            <p th:text="${frete.enderecoDestino.cidade} + ' - ' + ${frete.enderecoDestino.estado}"></p>
        </div>
        <div class="frete-section">
            <h3>Informações do Motorista</h3>
            <div th:if="${frete.motorista != null}" class="info-motorista">
                <p><label>Nome:</label> <span th:text="${frete.motorista.nome_completo}"></span></p>
                <p><label>Email:</label> <span th:text="${frete.motorista.email_comercial}"></span></p>
                <p><label>Telefone:</label> <span th:text="${frete.motorista.telefone_pessoal}"></span></p>
            </div>
            <div th:if="${frete.motorista == null}" class="no-motorista">
                Frete ainda não aceito por nenhum motorista.
            </div>
        </div>
        <div class="frete-section">
            <h3>Rastreamento - Checkpoints</h3>
            <div th:if="${#lists.isEmpty(checkpoints)}" class="no-checkpoints">
                Nenhum checkpoint registrado até o momento.
            </div>
            <div th:unless="${#lists.isEmpty(checkpoints)}">
                <table class="frete-table">
                    <thead>
                    <tr>
                        <th>Data e Hora</th>
                        <th>Cidade</th>
                        <th>Estado</th>
                        <th>Status</th>
                        <th>Observações</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="cp : ${checkpoints}">
                        <td th:text="${#temporals.format(cp.dataHora, 'dd/MM/yyyy HH:mm')}"></td>
                        <td th:text="${cp.cidade}"></td>
                        <td th:text="${cp.estado}"></td>
                        <td th:text="${cp.freteStatus.nome}"></td>
                        <td th:text="${cp.observacoes}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <a href="/admin/fretes" class="btn-voltar">Voltar</a>
    </div>
</div>
</body>
</html>
